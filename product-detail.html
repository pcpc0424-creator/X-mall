<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프리미엄 홍삼정 | X-mall</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css?v=23">
    <style>
        .product-detail-section {
            padding: 40px 0 80px;
            background: #fff;
        }
        .product-detail-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        @media (max-width: 992px) {
            .product-detail-container { grid-template-columns: 1fr; gap: 40px; }
        }

        /* Product Gallery */
        .product-gallery {
            position: sticky;
            top: 100px;
        }
        .main-image {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            background: #f8f8f8;
        }
        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        .main-image:hover img {
            transform: scale(1.05);
        }
        .thumbnail-list {
            display: flex;
            gap: 12px;
        }
        .thumbnail {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        .thumbnail:hover, .thumbnail.active {
            border-color: var(--primary-color);
        }
        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Product Info */
        .product-detail-info {
            padding: 20px 0;
        }
        .product-badges-detail {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }
        .product-badges-detail .badge {
            padding: 6px 14px;
            font-size: 12px;
            font-weight: 600;
        }
        .product-brand-detail {
            font-size: 14px;
            color: var(--gray-500);
            margin-bottom: 8px;
        }
        .product-title-detail {
            font-size: 32px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 16px;
            line-height: 1.3;
        }
        .product-rating-detail {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--gray-200);
        }
        .product-rating-detail .stars {
            color: #ffc107;
            font-size: 18px;
        }
        .product-rating-detail .rating-score {
            font-size: 18px;
            font-weight: 600;
            color: var(--gray-900);
        }
        .product-rating-detail .review-count {
            color: var(--gray-500);
            font-size: 14px;
        }

        /* Price */
        .product-price-detail {
            margin-bottom: 32px;
        }
        .price-original-detail {
            font-size: 18px;
            color: var(--gray-400);
            text-decoration: line-through;
            margin-bottom: 4px;
        }
        .price-row {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .discount-rate {
            font-size: 28px;
            font-weight: 800;
            color: var(--secondary-color);
        }
        .price-pv-detail {
            font-size: 16px;
            font-weight: 700;
            color: var(--primary-color, #4f46e5);
            background: rgba(79, 70, 229, 0.08);
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            margin-top: 8px;
        }
        .price-sale-detail {
            font-size: 36px;
            font-weight: 800;
            color: var(--gray-900);
        }

        /* Options */
        .product-options {
            margin-bottom: 32px;
        }
        .option-group {
            margin-bottom: 20px;
        }
        .option-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 10px;
            display: block;
        }
        .option-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        .option-btn {
            padding: 12px 24px;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            background: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        .option-btn:hover, .option-btn.active {
            border-color: var(--primary-color);
            background: var(--primary-color);
            color: #fff;
        }

        /* Quantity */
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }
        .quantity-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-700);
        }
        .quantity-controls {
            display: flex;
            align-items: center;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            overflow: hidden;
        }
        .qty-btn {
            width: 44px;
            height: 44px;
            border: none;
            background: var(--gray-100);
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s ease;
        }
        .qty-btn:hover {
            background: var(--gray-200);
        }
        .qty-input {
            width: 60px;
            height: 44px;
            border: none;
            text-align: center;
            font-size: 16px;
            font-weight: 600;
        }

        /* Total Price */
        .total-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--gray-100);
            border-radius: 12px;
            margin-bottom: 24px;
        }
        .total-label {
            font-size: 16px;
            color: var(--gray-700);
        }
        .total-amount {
            font-size: 28px;
            font-weight: 800;
            color: var(--primary-color);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
        }
        .btn-wishlist-detail {
            width: 56px;
            height: 56px;
            border: 1px solid var(--gray-300);
            border-radius: 12px;
            background: #fff;
            cursor: pointer;
            font-size: 20px;
            color: var(--gray-500);
            transition: all 0.3s ease;
        }
        .btn-wishlist-detail:hover, .btn-wishlist-detail.active {
            border-color: var(--secondary-color);
            color: var(--secondary-color);
        }
        .btn-wishlist-detail.active i {
            font-weight: 900;
        }
        .btn-cart-detail {
            flex: 1;
            height: 56px;
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            background: #fff;
            color: var(--primary-color);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-cart-detail:hover {
            background: var(--primary-color);
            color: #fff;
        }
        .btn-buy-detail {
            flex: 1.5;
            height: 56px;
            border: none;
            border-radius: 12px;
            background: var(--primary-color);
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-buy-detail:hover {
            background: var(--primary-dark);
        }

        /* Benefits */
        .product-benefits {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            padding-top: 24px;
            border-top: 1px solid var(--gray-200);
        }
        .benefit-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 16px;
        }
        .benefit-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            font-size: 20px;
            color: var(--primary-color);
        }
        .benefit-text {
            font-size: 13px;
            color: var(--gray-600);
            line-height: 1.4;
        }

        /* Product Detail Tabs */
        .product-tabs-section {
            background: var(--gray-100);
            padding: 80px 0;
        }
        .tabs-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .tab-buttons {
            display: flex;
            border-bottom: 2px solid var(--gray-300);
            margin-bottom: 40px;
        }
        .tab-btn {
            padding: 16px 32px;
            background: none;
            border: none;
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-500);
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
        }
        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary-color);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }
        .tab-btn:hover, .tab-btn.active {
            color: var(--primary-color);
        }
        .tab-btn.active::after {
            transform: scaleX(1);
        }
        .tab-content {
            background: #fff;
            border-radius: 20px;
            padding: 40px;
        }
        .tab-panel {
            display: none;
        }
        .tab-panel.active {
            display: block;
        }

        /* Product Description */
        .product-description h3 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 24px;
            color: var(--gray-900);
        }
        .product-description p {
            font-size: 16px;
            line-height: 1.8;
            color: var(--gray-600);
            margin-bottom: 24px;
        }
        .product-description img {
            width: 100%;
            border-radius: 12px;
            margin: 24px 0;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 12px 0;
            padding-left: 32px;
            position: relative;
            font-size: 15px;
            color: var(--gray-700);
            border-bottom: 1px solid var(--gray-200);
        }
        .feature-list li::before {
            content: '\f00c';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            position: absolute;
            left: 0;
            color: var(--primary-color);
        }

        /* Reviews Section */
        .reviews-summary {
            display: flex;
            gap: 40px;
            margin-bottom: 40px;
            padding-bottom: 40px;
            border-bottom: 1px solid var(--gray-200);
        }
        .rating-big {
            text-align: center;
        }
        .rating-big .score {
            font-size: 64px;
            font-weight: 800;
            color: var(--gray-900);
        }
        .rating-big .stars {
            color: #ffc107;
            font-size: 24px;
            margin: 8px 0;
        }
        .rating-big .total {
            font-size: 14px;
            color: var(--gray-500);
        }
        .rating-bars {
            flex: 1;
        }
        .rating-bar-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }
        .rating-bar-row .label {
            font-size: 14px;
            color: var(--gray-600);
            width: 50px;
        }
        .rating-bar {
            flex: 1;
            height: 8px;
            background: var(--gray-200);
            border-radius: 4px;
            overflow: hidden;
        }
        .rating-bar-fill {
            height: 100%;
            background: #ffc107;
            border-radius: 4px;
        }
        .rating-bar-row .count {
            font-size: 14px;
            color: var(--gray-500);
            width: 60px;
            text-align: right;
        }

        .review-item {
            padding: 24px 0;
            border-bottom: 1px solid var(--gray-200);
        }
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .reviewer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--gray-500);
        }
        .reviewer-name {
            font-weight: 600;
            color: var(--gray-900);
        }
        .review-date {
            font-size: 13px;
            color: var(--gray-500);
        }
        .review-rating {
            color: #ffc107;
            font-size: 14px;
        }
        .review-content {
            font-size: 15px;
            line-height: 1.7;
            color: var(--gray-700);
        }

        /* Related Products */
        .related-products {
            padding: 80px 0;
            background: #fff;
        }
        .related-products .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .related-products h2 {
            font-size: 28px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 40px;
        }
        .related-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
        }
        @media (max-width: 992px) {
            .related-grid { grid-template-columns: repeat(2, 1fr); }
        }
        @media (max-width: 576px) {
            .related-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="category-page">
    <header class="header scrolled">
        <nav class="nav-container">
            <div class="logo">
                <span class="logo-text">X-mall</span>
                <span class="logo-dot"></span>
            </div>

            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link active">홈</a></li>
                <li class="has-dropdown">
                    <a href="category-health.html" class="nav-link">건강식품 <i class="fas fa-chevron-down"></i></a>
                    <div class="mega-menu">
                        <div class="mega-menu-content">
                            <div class="mega-col">
                                <h4>비타민 & 미네랄</h4>
                                <a href="sub-health-vitamin.html">멀티비타민</a>
                                <a href="sub-health-vitamin.html">비타민C</a>
                                <a href="sub-health-vitamin.html">비타민D</a>
                                <a href="sub-health-vitamin.html">철분제</a>
                            </div>
                            <div class="mega-col">
                                <h4>다이어트</h4>
                                <a href="sub-health-probiotics.html">다이어트 보조제</a>
                                <a href="sub-health-probiotics.html">단백질 쉐이크</a>
                                <a href="sub-health-probiotics.html">식이섬유</a>
                            </div>
                            <div class="mega-col">
                                <h4>피로회복</h4>
                                <a href="sub-health-ginseng.html">홍삼</a>
                                <a href="sub-health-ginseng.html">녹용</a>
                                <a href="sub-health-ginseng.html">흑마늘</a>
                            </div>
                            <div class="mega-col featured">
                                <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=300&h=200&fit=crop" alt="건강식품">
                                <h4>이달의 추천</h4>
                                <p>프리미엄 홍삼 정 BEST</p>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    <a href="category-medical.html" class="nav-link">의료기기 <i class="fas fa-chevron-down"></i></a>
                    <div class="mega-menu">
                        <div class="mega-menu-content">
                            <div class="mega-col">
                                <h4>건강측정기</h4>
                                <a href="sub-medical-bp.html">혈압계</a>
                                <a href="sub-medical-thermo.html">체온계</a>
                                <a href="sub-medical-glucose.html">혈당계</a>
                                <a href="sub-medical-glucose.html">체중계</a>
                            </div>
                            <div class="mega-col">
                                <h4>치료기기</h4>
                                <a href="sub-medical-massager.html">마사지기</a>
                                <a href="sub-medical-massager.html">저주파자극기</a>
                                <a href="sub-medical-massager.html">온열기</a>
                            </div>
                            <div class="mega-col">
                                <h4>재활/보조기</h4>
                                <a href="sub-medical-massager.html">보호대</a>
                                <a href="sub-medical-massager.html">교정기</a>
                                <a href="sub-medical-massager.html">워커</a>
                            </div>
                            <div class="mega-col featured">
                                <img src="https://images.unsplash.com/photo-1576091160550-2173dba999ef?w=300&h=200&fit=crop" alt="의료기기">
                                <h4>신제품</h4>
                                <p>스마트 혈압계 출시</p>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="has-dropdown">
                    <a href="category-cosmetic.html" class="nav-link">화장품 <i class="fas fa-chevron-down"></i></a>
                    <div class="mega-menu">
                        <div class="mega-menu-content">
                            <div class="mega-col">
                                <h4>스킨케어</h4>
                                <a href="sub-cosmetic-skincare.html">토너/스킨</a>
                                <a href="sub-cosmetic-skincare.html">에센스/세럼</a>
                                <a href="sub-cosmetic-skincare.html">크림</a>
                                <a href="sub-cosmetic-skincare.html">선케어</a>
                            </div>
                            <div class="mega-col">
                                <h4>메이크업</h4>
                                <a href="sub-cosmetic-makeup.html">베이스</a>
                                <a href="sub-cosmetic-makeup.html">립</a>
                                <a href="sub-cosmetic-makeup.html">아이</a>
                            </div>
                            <div class="mega-col">
                                <h4>바디케어</h4>
                                <a href="sub-cosmetic-bodycare.html">바디로션</a>
                                <a href="sub-cosmetic-bodycare.html">핸드케어</a>
                                <a href="sub-cosmetic-haircare.html">헤어케어</a>
                            </div>
                            <div class="mega-col featured">
                                <img src="https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=300&h=200&fit=crop" alt="화장품">
                                <h4>베스트셀러</h4>
                                <p>히알루론산 세럼</p>
                            </div>
                        </div>
                    </div>
                </li>
                <li><a href="category-package.html" class="nav-link">패키지 상품</a></li>
                <li><a href="brand-story.html" class="nav-link">브랜드 스토리</a></li>
                <li><a href="event.html" class="nav-link">이벤트</a></li>
            </ul>

            <div class="nav-actions">
                <a href="search.html" class="search-btn" aria-label="검색">
                    <i class="fas fa-search"></i>
                </a>
                <a href="login.html" class="user-btn" aria-label="로그인">
                    <i class="fas fa-user"></i>
                </a>
                <a href="cart.html" class="cart-btn" aria-label="장바구니">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-count">0</span>
                </a>
                <div class="menu-toggle-wrap">
                    <button class="menu-toggle" aria-label="메뉴">
                        <span></span>
                        <span></span>
                        <span></span>
                    </button>
                    <ul class="hamburger-dropdown">
                        <li class="has-submenu">
                            <a href="category-health.html">건강식품 <i class="fas fa-chevron-down"></i></a>
                            <ul class="hamburger-submenu">
                                <li><a href="sub-health-vitamin.html">비타민 & 미네랄</a></li>
                                <li><a href="sub-health-probiotics.html">다이어트</a></li>
                                <li><a href="sub-health-ginseng.html">피로회복</a></li>
                                <li><a href="sub-health-omega.html">오메가3</a></li>
                                <li><a href="sub-health-probiotics.html">프로바이오틱스</a></li>
                            </ul>
                        </li>
                        <li class="has-submenu">
                            <a href="category-medical.html">의료기기 <i class="fas fa-chevron-down"></i></a>
                            <ul class="hamburger-submenu">
                                <li><a href="sub-medical-bp.html">혈압계</a></li>
                                <li><a href="sub-medical-thermo.html">체온계</a></li>
                                <li><a href="sub-medical-glucose.html">혈당계</a></li>
                                <li><a href="sub-medical-massager.html">마사지기</a></li>
                                <li><a href="sub-medical-massager.html">치료기기</a></li>
                            </ul>
                        </li>
                        <li class="has-submenu">
                            <a href="category-cosmetic.html">화장품 <i class="fas fa-chevron-down"></i></a>
                            <ul class="hamburger-submenu">
                                <li><a href="sub-cosmetic-skincare.html">스킨케어</a></li>
                                <li><a href="sub-cosmetic-makeup.html">메이크업</a></li>
                                <li><a href="sub-cosmetic-bodycare.html">바디케어</a></li>
                                <li><a href="sub-cosmetic-haircare.html">헤어케어</a></li>
                            </ul>
                        </li>
                        <li><a href="category-package.html">패키지 상품</a></li>
                        <li><a href="brand-story.html">브랜드 스토리</a></li>
                        <li><a href="event.html">이벤트</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb-section" style="padding: 120px 20px 20px; background: var(--gray-100);">
        <div style="max-width: 1400px; margin: 0 auto;">
            <div class="breadcrumb">
                <a href="index.html">홈</a>
                <i class="fas fa-chevron-right"></i>
                <a href="category-health.html">건강식품</a>
                <i class="fas fa-chevron-right"></i>
                <a href="sub-health-ginseng.html">홍삼</a>
                <i class="fas fa-chevron-right"></i>
                <span>프리미엄 홍삼정</span>
            </div>
        </div>
    </div>

    <!-- Product Detail -->
    <section class="product-detail-section">
        <div class="product-detail-container">
            <!-- Product Gallery -->
            <div class="product-gallery">
                <div class="main-image">
                    <img src="https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=800&h=800&fit=crop" alt="프리미엄 홍삼정" id="mainImage">
                </div>
                <div class="thumbnail-list">
                    <div class="thumbnail active" onclick="changeImage(this, 'https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=800&h=800&fit=crop')">
                        <img src="https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=100&h=100&fit=crop" alt="썸네일 1">
                    </div>
                    <div class="thumbnail" onclick="changeImage(this, 'https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800&h=800&fit=crop')">
                        <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=100&h=100&fit=crop" alt="썸네일 2">
                    </div>
                    <div class="thumbnail" onclick="changeImage(this, 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=800&h=800&fit=crop')">
                        <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=100&h=100&fit=crop" alt="썸네일 3">
                    </div>
                    <div class="thumbnail" onclick="changeImage(this, 'https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=800&h=800&fit=crop')">
                        <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=100&h=100&fit=crop" alt="썸네일 4">
                    </div>
                </div>
            </div>

            <!-- Product Info -->
            <div class="product-detail-info">
                <div class="product-badges-detail">
                    <span class="badge badge-best">BEST</span>
                    <span class="badge badge-sale">20%</span>
                </div>
                <p class="product-brand-detail">정관장</p>
                <h1 class="product-title-detail">프리미엄 홍삼정 240g</h1>
                <div class="product-rating-detail">
                    <div class="stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="rating-score">4.9</span>
                    <span class="review-count">8,765개의 리뷰</span>
                </div>

                <div class="product-price-detail">
                    <p class="price-original-detail">₩110,000</p>
                    <div class="price-row">
                        <span class="discount-rate">20%</span>
                        <span class="price-sale-detail">₩89,000</span>
                    </div>
                    <p class="price-pv-detail">PV 89</p>
                </div>

                <div class="product-options">
                    <div class="option-group">
                        <span class="option-label">용량 선택</span>
                        <div class="option-buttons">
                            <button class="option-btn active">240g (기본)</button>
                            <button class="option-btn">120g</button>
                            <button class="option-btn">480g (대용량)</button>
                        </div>
                    </div>
                </div>

                <div class="quantity-selector">
                    <span class="quantity-label">수량</span>
                    <div class="quantity-controls">
                        <button class="qty-btn" onclick="updateQuantity(-1)">-</button>
                        <input type="number" class="qty-input" value="1" min="1" id="quantity">
                        <button class="qty-btn" onclick="updateQuantity(1)">+</button>
                    </div>
                </div>

                <div class="total-price">
                    <span class="total-label">총 상품 금액</span>
                    <span class="total-amount" id="totalPrice">₩89,000</span>
                </div>

                <div class="action-buttons">
                    <button class="btn-wishlist-detail" onclick="toggleWishlist(this)">
                        <i class="far fa-heart"></i>
                    </button>
                    <button class="btn-cart-detail" onclick="addToCart()">장바구니</button>
                    <button class="btn-buy-detail" onclick="buyNow()">바로 구매</button>
                </div>

                <div class="product-benefits">
                    <div class="benefit-item">
                        <div class="benefit-icon"><i class="fas fa-truck"></i></div>
                        <span class="benefit-text">무료배송<br>50,000원 이상</span>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon"><i class="fas fa-undo"></i></div>
                        <span class="benefit-text">교환/반품<br>7일 이내 가능</span>
                    </div>
                    <div class="benefit-item">
                        <div class="benefit-icon"><i class="fas fa-shield-alt"></i></div>
                        <span class="benefit-text">정품 보장<br>100% 인증 제품</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Tabs -->
    <section class="product-tabs-section">
        <div class="tabs-container">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="openTab(event, 'description')">상품 상세</button>
                <button class="tab-btn" onclick="openTab(event, 'reviews')">리뷰 (8,765)</button>
                <button class="tab-btn" onclick="openTab(event, 'qna')">Q&A</button>
                <button class="tab-btn" onclick="openTab(event, 'shipping')">배송/교환</button>
            </div>
            <div class="tab-content">
                <!-- Description Tab -->
                <div class="tab-panel active" id="description">
                    <div class="product-description">
                        <h3>6년근 홍삼의 진한 맛과 영양</h3>
                        <p>정관장 프리미엄 홍삼정은 6년근 홍삼만을 엄선하여 전통 방식으로 정성껏 달여 만들었습니다. 진한 홍삼의 맛과 향을 그대로 담아 면역력 증진과 피로 회복에 도움을 줍니다.</p>

                        <img src="https://images.unsplash.com/photo-1471864190281-a93a3070b6de?w=1200&q=80" alt="상품 상세 이미지">

                        <h3>이런 분께 추천드립니다</h3>
                        <ul class="feature-list">
                            <li>면역력 강화가 필요하신 분</li>
                            <li>만성 피로에 시달리시는 분</li>
                            <li>건강한 일상을 원하시는 분</li>
                            <li>부모님께 건강 선물을 드리고 싶은 분</li>
                            <li>체력 증진이 필요한 직장인</li>
                        </ul>

                        <h3>섭취 방법</h3>
                        <p>1일 1회, 1회 1포를 물 또는 따뜻한 물에 타서 드시거나 그대로 드셔도 좋습니다. 아침 식사 전 또는 식후에 드시면 더욱 효과적입니다.</p>
                </div>

                <!-- Reviews Tab -->
                <div class="tab-panel" id="reviews">
                    <div class="reviews-summary">
                        <div class="rating-big">
                            <div class="score">4.9</div>
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="total">8,765개의 리뷰</div>
                        </div>
                        <div class="rating-bars">
                            <div class="rating-bar-row">
                                <span class="label">5점</span>
                                <div class="rating-bar"><div class="rating-bar-fill" style="width: 85%"></div></div>
                                <span class="count">7,450</span>
                            </div>
                            <div class="rating-bar-row">
                                <span class="label">4점</span>
                                <div class="rating-bar"><div class="rating-bar-fill" style="width: 10%"></div></div>
                                <span class="count">876</span>
                            </div>
                            <div class="rating-bar-row">
                                <span class="label">3점</span>
                                <div class="rating-bar"><div class="rating-bar-fill" style="width: 3%"></div></div>
                                <span class="count">263</span>
                            </div>
                            <div class="rating-bar-row">
                                <span class="label">2점</span>
                                <div class="rating-bar"><div class="rating-bar-fill" style="width: 1%"></div></div>
                                <span class="count">88</span>
                            </div>
                            <div class="rating-bar-row">
                                <span class="label">1점</span>
                                <div class="rating-bar"><div class="rating-bar-fill" style="width: 1%"></div></div>
                                <span class="count">88</span>
                            </div>
                        </div>
                    </div>

                    <div class="review-item">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar"><i class="fas fa-user"></i></div>
                                <div>
                                    <div class="reviewer-name">김**</div>
                                    <div class="review-date">2024.01.15</div>
                                </div>
                            </div>
                            <div class="review-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <p class="review-content">부모님께 선물로 드렸는데 정말 좋아하세요. 진한 홍삼 맛이 느껴지고 건강에도 좋은 것 같아요. 포장도 고급스럽고 배송도 빨라서 만족합니다.</p>
                    </div>

                    <div class="review-item">
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar"><i class="fas fa-user"></i></div>
                                <div>
                                    <div class="reviewer-name">이**</div>
                                    <div class="review-date">2024.01.12</div>
                                </div>
                            </div>
                            <div class="review-rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                        <p class="review-content">매일 아침 먹고 있는데 확실히 피로가 덜해진 것 같아요. 맛도 쓰지 않고 먹기 좋습니다. 재구매 의사 100%!</p>
                </div>

                <!-- Q&A Tab -->
                <div class="tab-panel" id="qna">
                    <div style="text-align: center; padding: 60px 0; color: var(--gray-500);">
                        <i class="fas fa-comments" style="font-size: 48px; margin-bottom: 16px; display: block;"></i>
                        <p>등록된 Q&A가 없습니다.</p>
                        <button style="margin-top: 20px; padding: 12px 32px; background: var(--primary-color); color: #fff; border: none; border-radius: 8px; cursor: pointer;">문의하기</button>
                    </div>
                </div>

                <!-- Shipping Tab -->
                <div class="tab-panel" id="shipping">
                    <div class="product-description">
                        <h3>배송 안내</h3>
                        <ul class="feature-list">
                            <li>배송비: 50,000원 이상 무료배송 (미만시 3,000원)</li>
                            <li>배송기간: 결제 완료 후 1-3일 이내 출고</li>
                            <li>도서산간 지역은 추가 배송비가 발생할 수 있습니다</li>
                        </ul>

                        <h3>교환/반품 안내</h3>
                        <ul class="feature-list">
                            <li>교환/반품 신청: 상품 수령 후 7일 이내</li>
                            <li>단순 변심에 의한 교환/반품 시 왕복 배송비 고객 부담</li>
                            <li>상품 하자 시 무료 교환/반품 가능</li>
                            <li>개봉 후 사용한 상품은 교환/반품 불가</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Related Products -->
    <section class="related-products">
        <div class="container">
            <h2>함께 보면 좋은 상품</h2>
            <div class="related-grid">
                <div class="product-card">
                    <a href="product-detail.html">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=400&fit=crop" alt="홍삼 에브리타임">
                            <button class="product-wishlist"><i class="far fa-heart"></i></button>
                        </div>
                    </a>
                    <div class="product-info">
                        <span class="product-brand">정관장</span>
                        <h3 class="product-name"><a href="product-detail.html">홍삼 에브리타임</a></h3>
                        <div class="product-rating">
                            <div class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div>
                            <span class="rating-count">(5,432)</span>
                        </div>
                        <div class="product-price"><span class="price-sale">₩60,000</span>
                                    <span class="price-pv">PV 60</span></div>
                    </div>
                </div>

                <div class="product-card">
                    <a href="product-detail.html">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=400&h=400&fit=crop" alt="6년근 홍삼액">
                            <button class="product-wishlist"><i class="far fa-heart"></i></button>
                        </div>
                    </a>
                    <div class="product-info">
                        <span class="product-brand">X-MALL</span>
                        <h3 class="product-name"><a href="product-detail.html">6년근 홍삼액</a></h3>
                        <div class="product-rating">
                            <div class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i></div>
                            <span class="rating-count">(2,345)</span>
                        </div>
                        <div class="product-price"><span class="price-sale">₩68,000</span>
                                    <span class="price-pv">PV 68</span></div>
                    </div>
                </div>

                <div class="product-card">
                    <a href="product-detail.html">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1584308666744-24d5c474f2ae?w=400&h=400&fit=crop" alt="풍기 홍삼스틱">
                            <button class="product-wishlist"><i class="far fa-heart"></i></button>
                        </div>
                    </a>
                    <div class="product-info">
                        <span class="product-brand">풍기인삼</span>
                        <h3 class="product-name"><a href="product-detail.html">풍기 홍삼스틱</a></h3>
                        <div class="product-rating">
                            <div class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                            <span class="rating-count">(3,210)</span>
                        </div>
                        <div class="product-price"><span class="price-sale">₩55,000</span>
                                    <span class="price-pv">PV 55</span></div>
                    </div>
                </div>

                <div class="product-card">
                    <a href="product-detail.html">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1526947425960-945c6e72858f?w=400&h=400&fit=crop" alt="키즈 홍삼젤리">
                            <button class="product-wishlist"><i class="far fa-heart"></i></button>
                        </div>
                    </a>
                    <div class="product-info">
                        <span class="product-brand">정관장</span>
                        <h3 class="product-name"><a href="product-detail.html">키즈 홍삼젤리</a></h3>
                        <div class="product-rating">
                            <div class="stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div>
                            <span class="rating-count">(4,567)</span>
                        </div>
                        <div class="product-price"><span class="price-sale">₩42,000</span>
                                    <span class="price-pv">PV 42</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-top">
            <div class="container">
                <div class="footer-grid">
                    <div class="footer-about">
                        <a href="index.html" class="footer-logo"><span class="logo-text">X-mall</span><span class="logo-dot"></span></a>
                        <p>프리미엄 건강식품, 의료기기, 화장품을 한 곳에서 만나보세요.</p>
                    </div>
                    <div class="footer-col"><h4>쇼핑 안내</h4><ul><li><a href="#">이용약관</a></li><li><a href="#">개인정보처리방침</a></li></ul></div>
                    <div class="footer-col"><h4>고객 서비스</h4><ul><li><a href="#">자주 묻는 질문</a></li><li><a href="#">1:1 문의</a></li></ul></div>
                    <div class="footer-col footer-contact"><h4>고객센터</h4><div class="contact-phone"><span>1588-0000</span><small>평일 09:00 - 18:00</small></div></div>
                </div>
            </div>
        </div>
        <div class="footer-bottom"><div class="container"><div class="footer-bottom-content"><p>&copy; 2024 X-mall. All rights reserved.</p></div></div></div>
    </footer>

    <button class="scroll-top"><i class="fas fa-arrow-up"></i></button>

    <script src="frontend/js/api.js"></script>
    <script>
    // 현재 상품 데이터 저장
    let currentProduct = null;
    let currentPrice = 89000;

    document.addEventListener('DOMContentLoaded', async function() {
        const scrollTopBtn = document.querySelector('.scroll-top');
        if (scrollTopBtn) {
            window.addEventListener('scroll', () => { scrollTopBtn.classList.toggle('visible', window.scrollY > 500); });
            scrollTopBtn.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); });
        }

        document.querySelectorAll('.product-wishlist').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                btn.classList.toggle('active');
                const icon = btn.querySelector('i');
                icon.classList.toggle('far');
                icon.classList.toggle('fas');
            });
        });

        // Option buttons
        document.querySelectorAll('.option-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        // Mobile Menu
        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.querySelector('.nav-menu');
        if (menuToggle && navMenu) {
            menuToggle.addEventListener('click', () => {
                menuToggle.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
        }

        // URL 파라미터에서 상품 ID 확인
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');

        if (productId) {
            await loadProductData(productId);
        }
    });

    // API에서 상품 데이터 로드
    async function loadProductData(productId) {
        try {
            const response = await fetch(`/X-mall/api/products/${productId}`);
            const result = await response.json();

            if (result.success && result.data) {
                currentProduct = result.data;
                updatePageWithProductData(result.data);
            }
        } catch (error) {
            console.error('상품 데이터 로드 실패:', error);
        }
    }

    // 페이지 내용 업데이트
    function updatePageWithProductData(product) {
        // 상품명
        const titleEl = document.querySelector('.product-title-detail');
        if (titleEl) titleEl.textContent = product.name;

        // 가격
        const price = parseFloat(product.price_dealer_krw || product.price_krw);
        currentPrice = price;
        const originalPrice = parseFloat(product.price_krw);

        const priceOriginalEl = document.querySelector('.price-original-detail');
        const priceSaleEl = document.querySelector('.price-sale-detail');
        const discountRateEl = document.querySelector('.discount-rate');

        if (price < originalPrice) {
            const discountRate = Math.round((1 - price / originalPrice) * 100);
            if (priceOriginalEl) priceOriginalEl.textContent = '₩' + originalPrice.toLocaleString();
            if (discountRateEl) discountRateEl.textContent = discountRate + '%';
        } else {
            if (priceOriginalEl) priceOriginalEl.style.display = 'none';
            if (discountRateEl) discountRateEl.style.display = 'none';
        }
        if (priceSaleEl) priceSaleEl.textContent = '₩' + price.toLocaleString();

        // PV
        const pvEl = document.querySelector('.price-pv-detail');
        if (pvEl) pvEl.textContent = 'PV ' + (product.pv_value || 0);

        // 총 가격
        const totalPriceEl = document.getElementById('totalPrice');
        if (totalPriceEl) totalPriceEl.textContent = '₩' + price.toLocaleString();

        // 이미지
        const mainImage = document.getElementById('mainImage');
        if (mainImage && product.image_url) {
            mainImage.src = product.image_url;
        }

        // 카테고리/브랜드
        const brandEl = document.querySelector('.product-brand-detail');
        if (brandEl) brandEl.textContent = product.category || 'X-MALL';

        // 옵션 버튼 숨기기 (패키지 상품은 옵션 없음)
        if (product.product_type === 'package') {
            const optionsEl = document.querySelector('.product-options');
            if (optionsEl) optionsEl.style.display = 'none';

            // 패키지 구성품 표시
            if (product.package_items && product.package_items.length > 0) {
                const packageInfo = document.createElement('div');
                packageInfo.className = 'package-items-info';
                packageInfo.innerHTML = `
                    <h4 style="margin-bottom: 10px; font-size: 14px; color: #666;">패키지 구성품</h4>
                    <ul style="list-style: none; padding: 0; background: #f9f9f9; border-radius: 8px; padding: 15px;">
                        ${product.package_items.map(item => `
                            <li style="padding: 5px 0; display: flex; justify-content: space-between;">
                                <span>${item.single_product_name}</span>
                                <span style="color: #6c63ff; font-weight: 500;">x${item.quantity}</span>
                            </li>
                        `).join('')}
                    </ul>
                `;
                const priceDetail = document.querySelector('.product-price-detail');
                if (priceDetail) {
                    priceDetail.insertAdjacentElement('afterend', packageInfo);
                }
            }
        }

        // 배지 업데이트
        const badgesEl = document.querySelector('.product-badges-detail');
        if (badgesEl) {
            if (product.product_type === 'package') {
                badgesEl.innerHTML = '<span class="badge" style="background: #6c63ff; color: white;">PACKAGE</span>';
            }
        }
    }

    function changeImage(thumb, src) {
        document.getElementById('mainImage').src = src;
        document.querySelectorAll('.thumbnail').forEach(t => t.classList.remove('active'));
        thumb.classList.add('active');
    }

    function updateQuantity(change) {
        const input = document.getElementById('quantity');
        let value = parseInt(input.value) + change;
        if (value < 1) value = 1;
        input.value = value;
        updateTotalPrice();
    }

    function updateTotalPrice() {
        const quantity = parseInt(document.getElementById('quantity').value);
        const total = currentPrice * quantity;
        document.getElementById('totalPrice').textContent = '₩' + total.toLocaleString();
    }

    function toggleWishlist(btn) {
        btn.classList.toggle('active');
        const icon = btn.querySelector('i');
        icon.classList.toggle('far');
        icon.classList.toggle('fas');
    }

    function addToCart() {
        // Check if user is dealer
        const token = localStorage.getItem('token');
        const userStr = localStorage.getItem('user');

        if (!token || !userStr) {
            alert('대리점 회원만 구매가 가능합니다.\n로그인 후 이용해주세요.');
            window.location.href = 'login.html';
            return;
        }

        const user = JSON.parse(userStr);
        if (user.grade !== 'dealer') {
            alert('대리점 회원만 장바구니 및 구매가 가능합니다.\n대리점 가입 문의: 1588-0000');
            return;
        }

        // 상품 정보 추출
        const name = document.querySelector('.product-title-detail').textContent;
        const image = document.getElementById('mainImage').src;
        const quantity = parseInt(document.getElementById('quantity').value) || 1;
        const activeOption = document.querySelector('.option-btn.active');
        const option = activeOption ? activeOption.textContent.trim() : '기본';

        // currentProduct가 있으면 사용, 없으면 페이지에서 추출
        let price, originalPrice, pv, category, productId;

        if (currentProduct) {
            price = parseFloat(currentProduct.price_dealer_krw || currentProduct.price_krw);
            originalPrice = parseFloat(currentProduct.price_krw);
            pv = parseFloat(currentProduct.pv_value) || 0;
            category = currentProduct.category || 'X-MALL';
            productId = currentProduct.id + '_' + option; // 장바구니에서 옵션별 구분용
        } else {
            const priceText = document.querySelector('.price-sale-detail').textContent;
            price = parseInt(priceText.replace(/[^\d]/g, ''));
            const originalPriceEl = document.querySelector('.price-original-detail');
            originalPrice = originalPriceEl ? parseInt(originalPriceEl.textContent.replace(/[^\d]/g, '')) : price;
            const pvText = document.querySelector('.price-pv-detail').textContent;
            pv = parseInt(pvText.replace(/[^\d]/g, '')) || 0;
            category = document.querySelector('.product-brand-detail')?.textContent || '건강식품';
            productId = window.location.pathname + '_' + option;
        }

        // 장바구니에 추가
        cartApi.addItem({
            id: productId,
            product_id: currentProduct ? currentProduct.id : productId, // 실제 상품 ID
            name: name,
            price: price,
            dealerPrice: price, // 대리점 가격
            originalPrice: originalPrice,
            pv: pv,
            image: image,
            category: category,
            option: option,
            quantity: quantity
        });

        alert('장바구니에 추가되었습니다.');
    }

    function buyNow() {
        // Check if user is dealer
        const token = localStorage.getItem('token');
        const userStr = localStorage.getItem('user');

        if (!token || !userStr) {
            alert('대리점 회원만 구매가 가능합니다.\n로그인 후 이용해주세요.');
            window.location.href = 'login.html';
            return;
        }

        const user = JSON.parse(userStr);
        if (user.grade !== 'dealer') {
            alert('대리점 회원만 장바구니 및 구매가 가능합니다.\n대리점 가입 문의: 1588-0000');
            return;
        }

        // Add to cart and redirect to checkout
        addToCart();
        window.location.href = 'cart.html';
    }

    function openTab(evt, tabName) {
        document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.getElementById(tabName).classList.add('active');
        evt.currentTarget.classList.add('active');
    }
    </script>
    <script src="script.js"></script>
</body>
</html>
